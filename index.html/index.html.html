<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Champion Pool Calculator</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-color: #121212;
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  height: 100vh;
}
h1 {
  margin-top: 20px;
  font-size: 1.5em;
  opacity: 0.9;
}
#controls {
  display: flex;
  gap: 20px;
  margin-top: 20px;
}
select {
  padding: 6px 10px;
  border-radius: 6px;
  border: 1px solid #555;
  background-color: #2b2b2b;
  color: #fff;
}
#pool-visual {
  display: flex;
  gap: 15px;
  margin-top: 50px;
}
.champ-slot {
  width: 60px;
  height: 60px;
  border-radius: 12px;
  background-color: #2b2b2b;
  border: 2px solid #555;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2em;
  color: #555;
  transition: background 0.3s, color 0.3s, transform 0.3s;
}
.champ-slot.active {
  background-color: #4CAF50;
  color: #fff;
  transform: scale(1.1);
}
#pool-size {
  margin-top: 20px;
  font-size: 1.2em;
}
</style>
</head>
<body>
<h1>Champion Pool Calculator</h1>
<div id="controls">
  <div>
    <label for="rank">Rank:</label><br/>
    <select id="rank">
      <option value="4">Iron</option>
      <option value="4">Bronze</option>
      <option value="4">Silver</option>
      <option value="3">Gold</option>
      <option value="3">Platinum</option>
      <option value="2">Emerald</option>
      <option value="2">Diamond</option>
      <option value="1">Master</option>
      <option value="1">Grandmaster</option>
      <option value="1">Challenger</option>
    </select>
  </div>
  <div>
    <label for="complexity">Average Champion Complexity:</label><br/>
    <select id="complexity">
      <option value="1">Easy</option>
      <option value="2">Intermediate</option>
      <option value="4">Hard</option>
      <option value="6">Insane / OTP Champ</option>
    </select>
  </div>
</div>

<div id="pool-visual">
  <div class="champ-slot">1</div>
  <div class="champ-slot">2</div>
  <div class="champ-slot">3</div>
  <div class="champ-slot">4</div>
</div>

<div id="pool-size">Recommended Champion Pool Size: </div>

<script>
const rankSelect = document.getElementById('rank');
const complexitySelect = document.getElementById('complexity');
const poolSizeDisplay = document.getElementById('pool-size');
const champSlots = document.querySelectorAll('.champ-slot');

function calculatePoolSize() {
  const rankValue = parseInt(rankSelect.value);
  const complexityValue = parseInt(complexitySelect.value);
  const rankName = rankSelect.selectedOptions[0].text;
  const complexityName = complexitySelect.selectedOptions[0].text;
  const totalScore = rankValue + complexityValue;

  // Default pool calculation
  let pool = 4 - Math.round((totalScore - 2) / (10 - 2) * 3);
  pool = Math.max(1, Math.min(4, pool));

  // Hard limit rules
  // 1) Gold + Hard => pool 1
  if(rankName === "Gold" && complexityName === "Hard") {
    pool = 1;
  }
  // 2) Iron/Bronze/Silver + Hard/Insane => max pool 1
  else if(["Iron","Bronze","Silver"].includes(rankName) && ["Hard","Insane / OTP Champ"].includes(complexityName)) {
    pool = 1;
  }
  // 3) Platinum + Intermediate => pool 2
  else if(rankName === "Platinum" && complexityName === "Intermediate") {
    pool = 2;
  }
  // 4) Emerald & Diamond => max pool 3
  else if(["Emerald","Diamond"].includes(rankName)) {
    pool = Math.min(pool, 3);
  }
  // Existing caps
  else if(rankValue >= 3 && rankName !== "Platinum") {
    pool = Math.min(pool, 2);
  }
  else if(rankName === "Platinum") {
    pool = Math.min(pool, 3);
  }

  return pool;
}

function updateVisualization() {
  const pool = calculatePoolSize();
  poolSizeDisplay.textContent = `Recommended Champion Pool Size: ${pool} Champion${pool>1?'s':''}`;

  champSlots.forEach((slot, idx) => {
    if(idx < pool) slot.classList.add('active');
    else slot.classList.remove('active');
  });
}

// Event listeners
rankSelect.addEventListener('change', updateVisualization);
complexitySelect.addEventListener('change', updateVisualization);

// Initialize
updateVisualization();
</script>
</body>
</html>
